# Apple App Store Deployment Guide - Odyseya

## üìã Kompletny przewodnik deployment do Apple App Store

---

## üéØ PrzeglƒÖd procesu

Deployment do App Store sk≈Çada siƒô z 5 g≈Ç√≥wnych etap√≥w:
1. **Przygotowanie aplikacji** (konfiguracja, ikony, screenshoty)
2. **Konfiguracja Apple Developer Account** (App ID, certyfikaty)
3. **App Store Connect** (utworzenie aplikacji, metadata)
4. **Build i Upload** (archiwizacja i wys≈Çanie do Apple)
5. **PrzeglƒÖd i Release** (submission i publikacja)

**Czas trwania:** 2-4 godziny (pierwsze wys≈Çanie), potem ~30 min na update

---

## üì± ETAP 1: Przygotowanie Aplikacji

### 1.1 Wymagane Assety

#### App Icon (wymagane wszystkie rozmiary):
```
1024√ó1024 - App Store (bez alpha channel)
180√ó180   - iPhone
167√ó167   - iPad Pro
152√ó152   - iPad, iPad mini
120√ó120   - iPhone
87√ó87     - iPhone Settings
80√ó80     - iPad Settings
76√ó76     - iPad
60√ó60     - iPhone Notification
58√ó58     - iPad Notification
40√ó40     - iPhone Spotlight
29√ó29     - Settings
20√ó20     - iPad Notifications
```

**Lokalizacja:** `ios/Runner/Assets.xcassets/AppIcon.appiconset/`

**Narzƒôdzia do generowania:**
- https://appicon.co/
- https://www.appicon.build/
- Adobe Photoshop/Illustrator

#### Screenshoty (wymagane):
```
iPhone 6.7" (iPhone 14 Pro Max, 15 Pro Max, 16 Pro Max)
- 1290 x 2796 pixels (portrait)
- 2796 x 1290 pixels (landscape) - opcjonalnie

iPhone 6.5" (iPhone 11 Pro Max, Xs Max)
- 1242 x 2688 pixels (portrait)
- 2688 x 1242 pixels (landscape) - opcjonalnie

iPad Pro (3rd gen) 12.9"
- 2048 x 2732 pixels (portrait)
- 2732 x 2048 pixels (landscape) - opcjonalnie
```

**Minimalna liczba:** 3-10 screenshot√≥w na rozmiar
**Format:** PNG lub JPEG (bez alpha channel)
**Waga:** maksymalnie 500 KB ka≈ºdy

**Jak zrobiƒá screenshoty:**
```bash
# Uruchom na symulatorze odpowiedniego rozmiaru
flutter run

# W simulatorze: Cmd + S (zapisze w ~/Desktop)

# Lub u≈ºyj Xcode:
# Simulator ‚Üí File ‚Üí New Screen Shot
```

#### App Preview Video (opcjonalnie):
- D≈Çugo≈õƒá: 15-30 sekund
- Format: .mov, .mp4, .m4v
- Rozdzielczo≈õƒá: taka sama jak screenshoty
- Maksymalny rozmiar: 500 MB

---

### 1.2 Konfiguracja Bundle ID i Wersji

#### Sprawd≈∫/Zmie≈Ñ Bundle Identifier:

**Lokalizacja 1:** `ios/Runner.xcodeproj/project.pbxproj`
```
PRODUCT_BUNDLE_IDENTIFIER = com.odyseya.app;
```

**Lokalizacja 2:** Xcode
1. Otw√≥rz `ios/Runner.xcworkspace`
2. Wybierz Runner target
3. General tab ‚Üí Bundle Identifier
4. Zmie≈Ñ na: `com.odyseya.app` (lub w≈Çasny)

**WA≈ªNE:** Bundle ID musi byƒá unikalny w ca≈Çym App Store!

#### Ustaw wersjƒô aplikacji:

**Lokalizacja:** `pubspec.yaml`
```yaml
version: 1.0.0+1
         ‚Üë       ‚Üë
    Version    Build Number
    (widoczna) (wewnƒôtrzny)
```

**Zasady:**
- Version: Semantic versioning (np. 1.0.0, 1.1.0, 2.0.0)
- Build Number: Kolejna liczba (1, 2, 3...) - musi rosnƒÖƒá z ka≈ºdym buildem

**Jak zwiƒôkszyƒá:**
```yaml
# Pierwsze wydanie
version: 1.0.0+1

# Poprawki bug√≥w
version: 1.0.1+2

# Nowe funkcje
version: 1.1.0+3

# Du≈ºe zmiany
version: 2.0.0+4
```

---

### 1.3 Konfiguracja Info.plist

**Lokalizacja:** `ios/Runner/Info.plist`

Sprawd≈∫/dodaj wymagane klucze:

```xml
<!-- Nazwa wy≈õwietlana -->
<key>CFBundleDisplayName</key>
<string>Odyseya</string>

<!-- Wersja (automatycznie z pubspec.yaml) -->
<key>CFBundleShortVersionString</key>
<string>$(FLUTTER_BUILD_NAME)</string>

<key>CFBundleVersion</key>
<string>$(FLUTTER_BUILD_NUMBER)</string>

<!-- WSZYSTKIE opisy uprawnie≈Ñ (WYMAGANE!) -->
<key>NSMicrophoneUsageDescription</key>
<string>Odyseya needs access to your microphone to record your voice journal entries.</string>

<key>NSUserNotificationsUsageDescription</key>
<string>Odyseya sends gentle reminders to help you maintain your journaling practice.</string>

<!-- Je≈õli u≈ºywasz lokalizacji -->
<key>NSLocationWhenInUseUsageDescription</key>
<string>Odyseya can add location context to your journal entries.</string>
```

**KRYTYCZNE:** Apple odrzuci aplikacjƒô je≈õli brakuje opis√≥w uprawnie≈Ñ!

---

### 1.4 Privacy Manifest (iOS 17+)

**Lokalizacja:** `ios/Runner/PrivacyInfo.xcprivacy` ‚úÖ (ju≈º utworzony)

Sprawd≈∫ czy zawiera:
```xml
<key>NSPrivacyAccessedAPITypes</key>
<array>
    <!-- Lista u≈ºywanych API wymagajƒÖcych prywatno≈õci -->
</array>

<key>NSPrivacyCollectedDataTypes</key>
<array>
    <!-- Jakie dane zbierasz -->
</array>

<key>NSPrivacyTracking</key>
<false/>
```

---

## üîê ETAP 2: Apple Developer Account

### 2.1 Wymagania

- ‚úÖ Apple Developer Program membership ($99/rok)
- ‚úÖ Zweryfikowane konto Apple ID
- ‚úÖ Dwusk≈Çadnikowe uwierzytelnianie (2FA) w≈ÇƒÖczone

**Rejestracja:** https://developer.apple.com/programs/enroll/

---

### 2.2 Utworzenie App ID

1. Przejd≈∫ do: https://developer.apple.com/account
2. **Certificates, Identifiers & Profiles** ‚Üí **Identifiers**
3. Kliknij **"+"** (plus)
4. Wybierz **"App IDs"** ‚Üí Continue
5. Wybierz **"App"** ‚Üí Continue

**Konfiguracja:**
```
Description: Odyseya
Bundle ID: Explicit ‚Üí com.odyseya.app (lub Tw√≥j)
```

**Capabilities (wybierz u≈ºywane):**
- ‚úÖ Sign in with Apple
- ‚úÖ Push Notifications
- ‚úÖ iCloud (je≈õli u≈ºywasz)
- ‚úÖ In-App Purchase (dla RevenueCat)
- ‚¨ú Game Center (nie)
- ‚¨ú HealthKit (nie)

6. Kliknij **"Continue"** ‚Üí **"Register"**

---

### 2.3 Certyfikaty

#### Distribution Certificate (do wysy≈Çania do App Store):

1. **Certificates, Identifiers & Profiles** ‚Üí **Certificates**
2. Kliknij **"+"**
3. Wybierz **"Apple Distribution"** ‚Üí Continue
4. **Wygeneruj CSR (Certificate Signing Request):**

**Na Macu:**
```
1. Keychain Access ‚Üí Certificate Assistant ‚Üí Request a Certificate
2. Email: tw√≥j email Apple Developer
3. Common Name: Odyseya Distribution
4. Request: Saved to disk
5. Continue
6. Zapisz jako: CertificateSigningRequest.certSigningRequest
```

5. Upload CSR do Developer Portal
6. Download certyfikatu (.cer)
7. Kliknij dwukrotnie na .cer (zainstaluje siƒô w Keychain)

#### Weryfikacja w Keychain:
```
Keychain Access ‚Üí My Certificates
Powiniene≈õ zobaczyƒá: "Apple Distribution: [Twoja nazwa] ([Team ID])"
```

---

### 2.4 Provisioning Profile

1. **Profiles** ‚Üí **"+"**
2. Wybierz **"App Store"** ‚Üí Continue
3. App ID: Wybierz **com.odyseya.app**
4. Certificate: Wybierz sw√≥j Distribution Certificate
5. Profile Name: **Odyseya App Store**
6. Download profilu (.mobileprovision)
7. Kliknij dwukrotnie (zainstaluje siƒô)

**Weryfikacja:**
```bash
# Lista zainstalowanych profili
ls ~/Library/MobileDevice/Provisioning\ Profiles/
```

---

## üì± ETAP 3: App Store Connect

### 3.1 Utworzenie aplikacji

1. Przejd≈∫ do: https://appstoreconnect.apple.com
2. **My Apps** ‚Üí **"+"** ‚Üí **New App**

**Konfiguracja:**
```
Platforms: ‚úÖ iOS
Name: Odyseya
Primary Language: Polish (lub English)
Bundle ID: com.odyseya.app (wybierz z listy)
SKU: odyseya-001 (unikalny identyfikator, mo≈ºe byƒá dowolny)
User Access: Full Access
```

3. Kliknij **"Create"**

---

### 3.2 App Information

**App Store Connect ‚Üí Twoja aplikacja ‚Üí App Information**

```
Name: Odyseya
Subtitle: Inner Peace Through Voice Journaling (max 30 znak√≥w)
Privacy Policy URL: https://twoja-strona.com/privacy
Category:
  Primary: Health & Fitness
  Secondary: Lifestyle
Content Rights: Nie zawiera praw os√≥b trzecich
Age Rating: 4+ (bƒôdzie wymagany kwestionariusz)
```

**Privacy Policy:**
- WYMAGANA dla wszystkich aplikacji
- Musi byƒá publicznie dostƒôpna (URL)
- Musi byƒá w jƒôzyku angielskim
- Generatory: https://www.privacypolicygenerator.info/

---

### 3.3 Pricing and Availability

```
Price: Free (lub wybierz tier)
Availability: All Countries
```

**Je≈õli p≈Çatna (RevenueCat):**
```
Base Price: Tier X
In-App Purchases: Skonfiguruj osobno
```

---

### 3.4 App Privacy

**App Store Connect ‚Üí Twoja aplikacja ‚Üí App Privacy**

Odpowiedz na pytania o zbieranie danych:

**Przyk≈Çadowe odpowiedzi dla Odyseya:**
```
Do you collect data from this app?
‚úÖ Yes

Data Types:
- Contact Info (Email) - for authentication
- User Content (Audio recordings) - for journaling
- Usage Data - for analytics

Linked to User: Yes (je≈õli zapisujesz w Firebase)
Used for Tracking: No (unless using tracking)
```

**WA≈ªNE:** Musisz byƒá zgodny z tym co deklarujesz!

---

### 3.5 Age Rating

Wype≈Çnij kwestionariusz:
```
Violence: None
Sexual Content: None
Horror/Fear: None
Medical/Treatment Info: None
Alcohol/Drugs/Tobacco: None
Gambling: No
Profanity/Crude Humor: None
```

Rating powinien byƒá: **4+**

---

## üöÄ ETAP 4: Build i Upload

### 4.1 Przygotowanie do buildu

**1. Wyczy≈õƒá poprzednie buildy:**
```bash
cd /Users/joannacholas/CursorProjects/odyseya
flutter clean
flutter pub get
cd ios
pod install
pod update
```

**2. Uruchom testy (opcjonalnie):**
```bash
flutter test
```

**3. Sprawd≈∫ konfiguracjƒô:**
```bash
flutter doctor
flutter doctor -v
```

---

### 4.2 Konfiguracja Xcode dla Release

**Otw√≥rz Xcode:**
```bash
open ios/Runner.xcworkspace
```

**W Xcode:**

1. **Wybierz target Runner** (nie RunnerTests)

2. **Signing & Capabilities:**
   ```
   Team: [Tw√≥j Apple Developer Team]
   Bundle Identifier: com.odyseya.app
   Signing Certificate: Apple Distribution
   Provisioning Profile: Odyseya App Store (Automatic)
   ‚úÖ Automatically manage signing (zalecane)
   ```

3. **General tab:**
   ```
   Display Name: Odyseya
   Version: 1.0.0 (z pubspec.yaml)
   Build: 1 (z pubspec.yaml)
   Deployment Target: iOS 13.0 (lub wy≈ºszy)
   ```

4. **Build Settings:**
   ```
   Search: "bitcode"
   Enable Bitcode: No (Flutter nie wspiera)
   ```

---

### 4.3 Build Archive (Opcja A - Xcode GUI)

**W Xcode:**

1. Product ‚Üí Scheme ‚Üí **Runner**
2. Product ‚Üí Destination ‚Üí **Any iOS Device (arm64)**
3. Product ‚Üí **Archive**

Poczekaj 5-10 minut...

**Organizer otworzy siƒô automatycznie z archiwum**

---

### 4.4 Build Archive (Opcja B - Command Line)

```bash
cd /Users/joannacholas/CursorProjects/odyseya

# Build release (Flutter)
flutter build ios --release

# Lub bezpo≈õrednio z Xcode
cd ios
xcodebuild -workspace Runner.xcworkspace \
  -scheme Runner \
  -sdk iphoneos \
  -configuration Release \
  archive -archivePath $PWD/build/Runner.xcarchive

# Je≈õli sukces:
# ‚úÖ Archive created at: ios/build/Runner.xcarchive
```

---

### 4.5 Upload do App Store Connect

**Opcja A - Xcode Organizer (ZALECANE):**

1. Xcode ‚Üí Window ‚Üí **Organizer** (Cmd + Shift + Option + O)
2. Wybierz swoje archiwum
3. Kliknij **"Distribute App"**
4. Wybierz **"App Store Connect"** ‚Üí Next
5. Wybierz **"Upload"** ‚Üí Next
6. **Distribution options:**
   ```
   ‚úÖ Include bitcode for iOS content: NO
   ‚úÖ Upload your app's symbols: YES (dla crash reports)
   ‚¨ú Manage Version and Build Number: NO
   ```
7. Next ‚Üí wybierz **Automatic signing** ‚Üí Next
8. **Review** ‚Üí **Upload**

Poczekaj 5-15 minut...

**Opcja B - Command Line (zaawansowane):**

```bash
# Export IPA
xcodebuild -exportArchive \
  -archivePath $PWD/build/Runner.xcarchive \
  -exportOptionsPlist ExportOptions.plist \
  -exportPath $PWD/build

# Upload via Transporter lub altool (deprecated)
xcrun altool --upload-app \
  -f build/Runner.ipa \
  -t ios \
  -u "twoj-apple-id@email.com" \
  -p "app-specific-password"
```

---

### 4.6 Weryfikacja uploadu

1. App Store Connect ‚Üí **My Apps** ‚Üí **Odyseya**
2. **TestFlight** tab
3. Po 5-15 minutach zobaczysz build: **1.0.0 (1)**

**Status:**
```
Processing ‚Üí Ready to Submit
```

Je≈õli "Missing Compliance" - odpowiedz na pytania o encryption.

---

## ‚úÖ ETAP 5: Submission i Review

### 5.1 Przygotowanie do submission

**App Store Connect ‚Üí Twoja aplikacja ‚Üí g≈Ç√≥wna zak≈Çadka (nie TestFlight)**

1. Kliknij **"+"** przy **iOS App** (je≈õli pierwsza wersja)
2. Lub **"Add Version"** dla aktualizacji

**Wype≈Çnij wszystkie pola:**

#### What's New in This Version:
```
Initial release of Odyseya - your personal voice journaling companion.

Features:
‚Ä¢ Voice-based journaling with AI transcription
‚Ä¢ Mood tracking and emotional insights
‚Ä¢ Gentle daily reminders
‚Ä¢ Secure cloud storage
‚Ä¢ Privacy-first design

Start your journey to inner peace today.
```

#### Description:
```
[Max 4000 znak√≥w]

Odyseya is a serene voice journaling app designed to help you understand
your emotions and build healthier emotional habits through the power of
your voice.

KEY FEATURES:
üéôÔ∏è Voice Recording - Express yourself naturally through voice
üß† AI-Powered Insights - Understand your emotional patterns
üìÖ Daily Prompts - Gentle guidance for your journaling practice
üîí Privacy First - Your data is encrypted and secure
üíö Mood Tracking - Track your emotional journey over time

WHY ODYSEYA?
...
[Rozwi≈Ñ opis - sprzedaj warto≈õƒá aplikacji]
```

#### Keywords:
```
journal,voice,diary,mood,mental health,wellness,mindfulness,therapy,emotions
```
(Max 100 znak√≥w, oddzielone przecinkami)

#### Support URL:
```
https://twoja-strona.com/support
```

#### Marketing URL (opcjonalnie):
```
https://twoja-strona.com
```

---

### 5.2 Upload Screenshot√≥w

1. **App Screenshots** ‚Üí Dodaj dla KA≈ªDEGO wymaganego rozmiaru
2. PrzeciƒÖgnij screenshoty (drag & drop)
3. Opcjonalnie: dodaj App Preview (wideo)

**Kolejno≈õƒá:**
- Pierwszy screenshot = g≈Ç√≥wny (pokazywany w wyszukiwaniu)
- Uk≈Çadaj od najwa≈ºniejszej funkcji do najmniej

---

### 5.3 Wyb√≥r Buildu

1. Scroll do **Build** section
2. Kliknij **"+"** lub **"Select a build"**
3. Wybierz build: **1.0.0 (1)**

Je≈õli nie ma buildu - poczekaj kilka minut i od≈õwie≈º.

---

### 5.4 App Review Information

```
Contact Information:
  First Name: [Twoje imiƒô]
  Last Name: [Nazwisko]
  Phone: +48...
  Email: twoj@email.com

Demo Account (je≈õli wymagane logowanie):
  Username: demo@odyseya.app
  Password: Demo123!

Notes:
  This app requires microphone access for voice journaling.
  All user data is stored securely in Firebase.
```

**WA≈ªNE:** Podaj dzia≈ÇajƒÖce demo konto je≈õli app wymaga logowania!

---

### 5.5 Version Release

```
Wybierz:
‚óè Automatically release this version
  (Opublikuj automatycznie po aprobacie)

Lub:

‚óã Manually release this version
  (Rƒôcznie opublikuj - mo≈ºesz wybraƒá datƒô/czas)
```

---

### 5.6 Submit for Review

1. **Sprawd≈∫ wszystkie sekcje** - muszƒÖ mieƒá ‚úÖ
2. Kliknij **"Add for Review"**
3. Przeczytaj Export Compliance questions:
   ```
   Does your app use encryption?
   - If only HTTPS: NO
   - If custom encryption: YES (wymaga dokumentacji)
   ```
4. Kliknij **"Submit to App Review"**

**Status zmieni siƒô na:**
```
Waiting for Review ‚Üí In Review ‚Üí Pending Developer Release / Ready for Sale
```

---

## ‚è±Ô∏è Czas PrzeglƒÖdu

**Typowy czas przeglƒÖdu:**
- Pierwszy submission: 24-48 godzin
- Aktualizacje: 12-24 godziny
- Czasami: kilka dni

**Sprawdzaj status:**
- App Store Connect
- Email notifications
- App Store Connect app (iOS)

---

## ‚ùå Czƒôste Przyczyny Odrzucenia

### 1. Missing Privacy Policy
**RozwiƒÖzanie:** Dodaj link do Privacy Policy

### 2. Missing Permission Descriptions
**RozwiƒÖzanie:** Dodaj wszystkie `NS*UsageDescription` w Info.plist

### 3. Crashes on Launch
**RozwiƒÖzanie:** Test na prawdziwym urzƒÖdzeniu przed submission

### 4. Incomplete Metadata
**RozwiƒÖzanie:** Wype≈Çnij WSZYSTKIE pola w App Store Connect

### 5. Invalid Screenshots
**RozwiƒÖzanie:** U≈ºyj dok≈Çadnych rozmiar√≥w, bez status bar (je≈õli wymagane)

### 6. Demo Account Issues
**RozwiƒÖzanie:** Upewnij siƒô ≈ºe demo konto dzia≈Ça

### 7. Guideline 4.3 (Spam)
**RozwiƒÖzanie:** Aplikacja musi byƒá unikalna, nie klon

### 8. Guideline 2.1 (Crashes/Bugs)
**RozwiƒÖzanie:** Napraw wszystkie znane bugi

---

## üîÑ Aktualizacje Aplikacji

### Proces aktualizacji (szybszy):

1. **Zwiƒôksz wersjƒô** w `pubspec.yaml`:
   ```yaml
   version: 1.0.1+2  # by≈Ço 1.0.0+1
   ```

2. **Build nowej wersji:**
   ```bash
   flutter clean
   flutter build ios --release
   ```

3. **Archive i Upload** (jak wy≈ºej)

4. **App Store Connect:**
   - Dodaj nowƒÖ wersjƒô
   - Co nowego (What's New)
   - Wybierz nowy build
   - Submit

**Czas przeglƒÖdu:** zwykle szybszy (12-24h)

---

## üìä Po Publikacji

### Monitoring:

**App Analytics (wbudowane):**
- App Store Connect ‚Üí Analytics
- Downloads, impressions, conversions
- Crashes, performance

**Crash Reports:**
- Xcode ‚Üí Window ‚Üí Organizer ‚Üí Crashes
- Wymaga symbols upload podczas dystrybucji

**Reviews:**
- App Store Connect ‚Üí Ratings and Reviews
- Odpowiadaj na recenzje!

### Beta Testing (TestFlight):

Przed ka≈ºdym release mo≈ºesz:
1. Upload buildu (jak wy≈ºej)
2. TestFlight ‚Üí wybierz build
3. Add testers (email)
4. Test przez 90 dni

---

## üõ†Ô∏è Narzƒôdzia Pomocnicze

### Fastlane (automatyzacja):
```bash
# Instalacja
brew install fastlane

# Inicjalizacja
cd ios
fastlane init

# Automated deployment
fastlane release
```

### Codemagic / Bitrise (CI/CD):
- Automatyczny build przy git push
- Automatyczny upload do TestFlight
- Integracja z Slack/Discord

---

## üìù Checklist przed Submission

**Aplikacja:**
- [ ] Wszystkie funkcje dzia≈ÇajƒÖ
- [ ] Brak crashy na prawdziwym urzƒÖdzeniu
- [ ] Testowane na iOS 13+ i r√≥≈ºnych rozmiarach iPhone/iPad
- [ ] Wszystkie uprawnienia majƒÖ opisy
- [ ] App Icon (wszystkie rozmiary)
- [ ] Launch Screen

**Apple Developer:**
- [ ] App ID utworzony z capabilities
- [ ] Distribution Certificate zainstalowany
- [ ] Provisioning Profile utworzony

**App Store Connect:**
- [ ] Aplikacja utworzona
- [ ] Wszystkie metadata wype≈Çnione
- [ ] Screenshots dla wszystkich rozmiar√≥w (min. 3)
- [ ] Privacy Policy URL
- [ ] Support URL
- [ ] Age Rating
- [ ] Pricing
- [ ] Build uploaded i processing zako≈Ñczony

**Submission:**
- [ ] Build wybrany
- [ ] Export Compliance odpowiedzi
- [ ] Demo account (je≈õli wymagane)
- [ ] Contact info

---

## üéâ Gratulacje!

Po aprobacie Twoja aplikacja bƒôdzie dostƒôpna w App Store!

**Nastƒôpne kroki:**
1. Monitoruj analytics
2. Odpowiadaj na reviews
3. Planuj aktualizacje
4. Marketing i promocja

**Powodzenia z Odyseya! üöÄ**
